(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/logo.62e865e1.svg"},30:function(e,t,a){e.exports=a.p+"static/media/heroes.1f4b5508.png"},33:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},57:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),o=(a(38),a(8)),u=a(9),s=a(6),i=a.n(s),m=a(12),p=a(7),f=a(10),E=a(15),b=a.n(E),d=b.a.create({baseURL:"http://localhost:3333"}),h=(a(57),a(13)),v=a.n(h),g=a(30),O=a.n(g);function j(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(u.f)();function s(){return(s=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.post("sessions",{id:a});case 4:n=e.sent,localStorage.setItem("OngId",a),localStorage.setItem("OngName",n.data.name),l.push("/profile"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Falha no login, tente novamente.");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"logon-container"},r.a.createElement("section",{className:"form"},r.a.createElement("img",{src:v.a,alt:"Be The Hero"}),r.a.createElement("form",{onSubmit:function(e){return s.apply(this,arguments)}},r.a.createElement("h1",null,"Fa\xe7a seu logon"),r.a.createElement("input",{placeholder:"Sua ID",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"button"},"Entrar"),r.a.createElement(o.b,{className:"back-link",to:"/users"},r.a.createElement(f.b,{size:16,color:"#E02041"}),"N\xe3o tenho cadastro"))),r.a.createElement("img",{src:O.a,alt:"Heroes"}))}a(63);function S(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(p.a)(l,2),E=s[0],d=s[1],h=Object(n.useState)(""),g=Object(p.a)(h,2),O=g[0],j=g[1],S=Object(n.useState)(""),y=Object(p.a)(S,2),N=y[0],k=y[1],C=Object(u.f)();function x(){return(x=Object(m.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:a,login:E,password:O,store:N},e.prev=2,e.next=5,b.a.post("/users",n);case 5:r=e.sent,alert("".concat(r.data.name," Seu cadastro foi realizado com sucesso !")),C.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"register-container"},r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("img",{src:v.a,alt:"Be The Hero"}),r.a.createElement("h1",null,"Cadastro"),r.a.createElement(o.b,{className:"back-link",to:"/"},r.a.createElement(f.a,{size:16,color:"#E02041"}),"Tenho cadastro")),r.a.createElement("form",{onSubmit:function(e){return x.apply(this,arguments)}},r.a.createElement("input",{placeholder:"Nome Completo",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{placeholder:"Email",value:E,onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Senha",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement("input",{type:"number",placeholder:"N\xfamero da loja",value:N,onChange:function(e){return k(e.target.value)}}),r.a.createElement("button",{className:"button",type:"submit"},"Cadastrar"))))}a(64);function y(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(u.f)(),s=localStorage.getItem("OngId"),E=localStorage.getItem("OngName");function b(){return(b=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.delete("incidents/".concat(t),{headers:{Authorization:s}});case 3:c(a.filter((function(e){return e.id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Erro ao deletar caso, tente novamente.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){d.get("profile",{headers:{Authorization:s}}).then((function(e){c(e.data)}))}),[s]),r.a.createElement("div",{className:"profile-container"},r.a.createElement("header",null,r.a.createElement("img",{src:v.a,alt:"Be The Hero"}),r.a.createElement("span",null,"Bem vinda, ",E),r.a.createElement(o.b,{className:"button",to:"/incidents/new"},"Cadastrar novo caso"),r.a.createElement("button",{type:"button",onClick:function(){localStorage.clear(),l.push("/")}},r.a.createElement(f.c,{size:18,color:"#E02041"}))),r.a.createElement("h1",null,"Casos Cadastrados"),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("b",null,"CASO:"),r.a.createElement("p",null,e.title),r.a.createElement("b",null,"DESCRI\xc7\xc3O:"),r.a.createElement("p",null,e.description),r.a.createElement("b",null,"Valor:"),r.a.createElement("p",null,Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.value)),r.a.createElement("button",{onClick:function(){return function(e){return b.apply(this,arguments)}(e.id)},type:"button"},r.a.createElement(f.d,{scale:20,color:"#a8a8b3"})))}))))}function N(){return r.a.createElement(o.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:j}),r.a.createElement(u.a,{path:"/users",component:S}),r.a.createElement(u.a,{path:"/profile",component:y})))}var k=function(){return r.a.createElement(N,null)};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8585c6a3.chunk.js.map